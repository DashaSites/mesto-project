(()=>{"use strict";var e="",t=function(e,t,o,n){var r=e.querySelector(o);(function(e){return e.some((function(e){return!e.validity.valid}))})(t)||function(e){return e.every((function(e){return 0===e.value.length}))}(t)?function(e,t){e.classList.add(t),e.disabled=!0}(r,n):function(e,t){e.classList.remove(t),e.disabled=!1}(r,n)};const o=e+"d0683ddfe686530f5ba3.jpg",n=e+"2bb8ded89b55a518c65f.jpg",r=e+"b1425f229eac9761cfc0.jpg",c=e+"d3bbb48729dff5dcc107.jpg",u=e+"55c790309f8b252154e1.jpg",i=e+"1decb092fd23fadad375.jpg";var a=document.querySelector(".profile__edit-button"),p=document.querySelector(".profile__add-button"),l=document.querySelector(".popup_type_edit-profile"),d=document.querySelector(".popup_type_add-card"),s=document.querySelector(".popup_type_large-image"),m=(document.querySelector(".popup__close-button-edit-profile"),document.querySelector(".popup__close-button-add-card"),document.querySelector(".popup__close-button-large-image"),l.querySelector(".popup__form-input-item_type_name")),f=l.querySelector(".popup__form-input-item_type_occupation"),_=document.querySelector(".profile__name"),v=document.querySelector(".profile__occupation"),y=document.forms["edit-profile-form"],S=document.forms["add-card-form"],b=document.querySelector(".elements"),g=document.querySelectorAll(".popup__close-button"),q=S.querySelector(".popup__form-input-item_type_title"),L=S.querySelector(".popup__form-input-item_type_link"),E=s.querySelector(".popup__image"),C=s.querySelector(".popup__caption"),k=document.querySelectorAll(".popup"),x=[{caption:"Найроби",image:o},{caption:"Занзибар",image:n},{caption:"Серенгети",image:r},{caption:"Где-то",image:c},{caption:"Килва-Кисивани",image:u},{caption:"Тарангире",image:i}],h=function(e){e.classList.add("popup_opened"),document.addEventListener("keydown",w)};a.addEventListener("click",(function(){h(l),m.value=_.textContent,f.value=v.textContent})),p.addEventListener("click",(function(){h(d)})),g.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return j(t)}))}));var j=function(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",w)};y.addEventListener("submit",(function(e){e.preventDefault(),_.textContent=m.value,v.textContent=f.value,j(l)})),S.addEventListener("submit",(function(e){e.preventDefault();var t={};t.caption=q.value,t.image=L.value,b.prepend(D(t)),e.target.reset(),j(d)}));var A=function(e){e.target.classList.toggle("element__like-button_active")},B=function(e){e.target.closest(".element").remove()},D=function(e){var t=document.querySelector(".element-template").content.querySelector(".element").cloneNode(!0),o=t.querySelector(".element__image");return o.src=e.image,o.alt=e.caption,t.querySelector(".element__caption").textContent=e.caption,t.querySelector(".element__like-button").addEventListener("click",A),t.querySelector(".element__delete-button").addEventListener("click",B),o.addEventListener("click",(function(){return o=(t=e).image,n=t.caption,h(s),E.src=o,E.alt=n,void(C.textContent=n);var t,o,n})),t};x.forEach((function(e){b.append(D(e))})),k.forEach((function(e){e.addEventListener("click",(function(t){t.target.classList.contains("popup")&&j(e)}))}));var M,w=function(e){"Escape"===e.key&&j(document.querySelector(".popup_opened"))};M={formSelector:".popup__form",inputSelector:".popup__form-input-item",submitButtonSelector:".popup__submit-button",disabledButtonClass:"popup__submit-button_disabled",inputErrorClass:"popup__form-input-item_type_error",errorClass:"error_visible"},Array.from(document.querySelectorAll(M.formSelector)).forEach((function(e){!function(e,o,n,r,c,u){e.addEventListener("submit",(function(o){o.preventDefault(),t(e,i,n,u)}));var i=Array.from(e.querySelectorAll(o));i.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,o,n){var r=e.querySelector("#".concat(t.id,"-error"));t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?function(e,t,o,n){e.classList.remove(o),t.classList.remove(n),t.textContent=""}(t,r,o,n):function(e,t,o,n){e.classList.add(o),t.textContent=e.validationMessage,t.classList.add(n)}(t,r,o,n)}(e,o,r,c),t(e,i,n,u)}))})),t(e,i,n,u)}(e,M.inputSelector,M.submitButtonSelector,M.inputErrorClass,M.errorClass,M.disabledButtonClass)}))})();